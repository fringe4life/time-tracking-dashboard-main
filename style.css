@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500&display=swap');

:root {
  /* Colors from style-guide.md */
  --purple-600: hsl(246, 80%, 60%);
  --orange-300: hsl(15, 100%, 70%);
  --blue-300: hsl(195, 74%, 62%);
  --pink-400: hsl(348, 100%, 68%);
  --green-400: hsl(145, 58%, 55%);
  --purple-700: hsl(264, 64%, 52%);
  --yellow-300: hsl(43, 84%, 65%);
  --navy-950: hsl(226, 43%, 10%);
  --navy-900: hsl(235, 46%, 20%);
  --purple-500: hsl(235, 45%, 61%);
  --navy-200: hsl(236, 100%, 87%);

  /* Card background colors by activity */
  --work-bg: var(--orange-300);
  --play-bg: var(--blue-300);
  --study-bg: var(--pink-400);
  --exercise-bg: var(--green-400);
  --social-bg: var(--purple-700);
  --self-care-bg: var(--yellow-300);

  /* Font sizes */
  --fs-base: 1.125rem; /* 18px */
  --fs-title: 1.5rem; /* 24px */
  --fs-large: 2rem; /* 32px */
  --fs-hero: 2.5rem; /* 40px */
  --fs-card: 3.5rem; /* 56px */
  --fs-small: 1rem; /* 16px */
  --fs-xs: 0.9375rem; /* 15px */

  /* Spacing system */
  --spacing-xs: 0.5rem; /* 8px */
  --spacing-sm: 1rem; /* 16px */
  --spacing-md: 1.5rem; /* 24px */
  --spacing-lg: 2rem; /* 32px */
  --spacing-xl: 2.5rem; /* 40px */
  --spacing-2xl: 3rem; /* 48px */

  /* Layout spacing */
  --card-radius: 1rem; /* 16px */

  /* Sizing tokens */
  --size-xs: 0.75rem; /* 12px */
  --size-sm: 1rem; /* 16px */
  --size-md: 1.5rem; /* 24px */
  --size-lg: 2rem; /* 32px */
  --size-xl: 2.5rem; /* 40px */
  --size-2xl: 3rem; /* 48px */
  --size-3xl: 4rem; /* 64px */
  --size-4xl: 5rem; /* 80px */

  /* Specific component sizes */
  --profile-img-size: 4.875rem; /* 78px */
  --activity-icon-size: 4.875rem; /* 78px */
  --activity-icon-size-tablet: 4.125rem; /* 66px */
  --ellipsis-width: 0.9375rem; /* 15px */
  --ellipsis-height: 0.3125rem; /* 5px */
  --timeframe-btn-width: 6.75rem; /* 108px */
  --timeframe-btn-height: 1.3125rem; /* 21px */

  /* Layout dimensions */
  --dashboard-card-height: 15.25rem; /* 244px */
  --dashboard-card-width: 15.875rem; /* 254px */
  --dashboard-card-height-tablet: 13.25rem; /* 212px */
  --dashboard-card-width-tablet: 11.75rem; /* 188px */
  --dashboard-card-height-mobile: 10rem; /* 160px */

  /* Margins and positioning */
  --activity-content-offset: 2.875rem; /* 46px */
  --activity-content-offset-tablet: 2.625rem; /* 42px */
  --mobile-padding-top: 5.125rem; /* 82px */

  /* Border widths */
  --border-thin: 0.1875rem; /* 3px */

  /* Breakpoints */
  --breakpoint-tablet: 64rem; /* 1024px */
  --breakpoint-mobile: 37.5rem; /* 600px */

  /* Responsive overrides - these will be updated in media queries */
  --current-spacing-lg: var(--spacing-lg);
  --current-fs-card: var(--fs-card);
  --current-fs-hero: var(--fs-hero);
  --current-fs-small: var(--fs-small);
  --current-activity-icon-size: var(--activity-icon-size);
  --current-activity-content-offset: var(--activity-content-offset);
  --current-spacing-md: var(--spacing-md);
}

/* Reset and base styles */
html {
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  min-block-size: 100dvh;
  background: var(--navy-950);
  color: #fff;
  font-family: 'Rubik', sans-serif;
  margin: 0;
  padding: 0;
}

/* Utility classes */
.center {
  display: grid;
  place-content: center;
  place-items: center;
}

.between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Dashboard layout */
.dashboard-grid {
  display: grid;
  grid-template: repeat(2, var(--dashboard-card-height)) / repeat(4, var(--dashboard-card-width));
  gap: var(--current-spacing-lg);
  align-items: stretch;
  background: var(--navy-950);
}

/* Profile card */
.profile-card {
  grid-area: 1 / 1 / span 2 / 2;
  background: var(--navy-900);
  border-radius: var(--card-radius);
  overflow: hidden;
  display: grid;
  grid-template-rows: repeat(3, 1fr);
}

.profile-header {
  background: var(--purple-600);
  padding: var(--current-spacing-lg);
  grid-row: span 2;
  border-radius: var(--card-radius);
  display: grid;
  gap: var(--current-spacing-lg);
}

.profile-img {
  border: 3px solid #fff;
  border-radius: 50%;
  inline-size: var(--profile-img-size);
  aspect-ratio: 1;
}

.profile-text {
  display: grid;
  gap: var(--spacing-xs);
}

.profile-report {
  color: var(--navy-200);
  font-size: var(--fs-small);
}

.profile-name {
  font-size: var(--current-fs-hero);
  font-weight: 300;
  line-height: 1.1;
}

/* Timeframe selector */
.timeframe-selector {
  display: grid;
  justify-items: flex-start;
  gap: var(--current-spacing-lg);
  padding-block: var(--spacing-xl);
  padding-inline: var(--current-spacing-lg);
  background: transparent;
}

.timeframe-btn {
  background: none;
  border: none;
  color: var(--purple-500);
  font-size: var(--fs-base);
  font-family: inherit;
  cursor: pointer;
  transition: color 0.2s;
}

.timeframe-btn:is(:hover, :focus, .active) {
  color: #fff;
}


/* Activity cards container */
.activity-cards {
  grid-area: 1 / 2 / span 2 / 5;
  display: grid;
  grid-template: repeat(2, 1fr) / repeat(3, 1fr);
  gap: var(--current-spacing-lg);
}

/* Individual activity cards */
.activity-card {
  position: relative;
  border-radius: var(--card-radius);
  overflow: hidden;
  display: grid;
  contain: strict;
}

.activity-bg {
  background: var(--_bg, var(--work-bg));
  position: absolute;
  z-index: -1;
  display: flex;
  justify-content: flex-end;
  inline-size: 100%;
}

/* Activity background colors */
.work { --_bg: var(--work-bg); }
.play { --_bg: var(--play-bg); }
.study { --_bg: var(--study-bg); }
.exercise { --_bg: var(--exercise-bg); }
.social { --_bg: var(--social-bg); }
.self-care { --_bg: var(--self-care-bg); }

.activity-icon {
  inline-size: var(--current-activity-icon-size);
  aspect-ratio: 1;
  margin-inline-end: var(--spacing-sm);
  contain: strict;
}

.activity-content {
  margin-block-start: var(--current-activity-content-offset);
  background: var(--navy-900);
  border-radius: var(--card-radius);
  padding: var(--current-spacing-md);
  display: grid;
  gap: var(--current-spacing-md);
  flex: auto;
  position: relative;
  z-index: 1;
}



.activity-title {
  font-size: var(--fs-base);
  font-weight: 500;
}

.activity-ellipsis {
  inline-size: var(--ellipsis-width);
  aspect-ratio: 3 / 1;
  opacity: 0.5;
  cursor: pointer;
  transition: opacity 0.2s ease-in-out;
}

.activity-ellipsis:hover {
  opacity: 1;
}

.activity-stats {
  display: grid;
  gap: var(--spacing-xs);
}

.activity-current {
  font-size: var(--current-fs-card);
  font-weight: 300;
  line-height: 1.25;
}

.activity-previous {
  color: var(--navy-200);
  font-size: var(--current-fs-small);
}

/* Responsive design */
@media (max-width: 64rem) { /* 1024px */
  .dashboard-grid {
    grid-template: min-content min-content / 1fr;
    --current-spacing-lg: var(--spacing-md);
  }

  .profile-card {
    grid-area: 1 / 1 / auto / auto;
    grid-template: repeat(2, 1fr) / 1fr;
  }

  .profile-header {
    display: flex;
    align-items: center;
    /* gap: var(--spacing-md); */
  }

  .timeframe-selector {
    grid-template-columns: repeat(3, min-content);
    justify-content: center;
    gap: var(--spacing-xs);
    padding-block: var(--spacing-lg);
    padding-inline: 0;
  }

  .timeframe-btn {
    inline-size: var(--timeframe-btn-width);
    aspect-ratio: 54 / 11;
    contain: strict;
    font-size: var(--fs-base);
  }

  .profile-img {
    margin-block-end: 0;
  }

  .activity-cards {
    grid-area: 2 / 1 / auto / auto;
    grid-template: repeat(2, var(--dashboard-card-height-tablet)) / repeat(3, var(--dashboard-card-width-tablet));
  }

  .activity-content {
    --current-activity-content-offset: var(--activity-content-offset-tablet);
  }

  .activity-icon {
    --current-activity-icon-size: var(--activity-icon-size-tablet);
  }

  .activity-previous {
    --current-fs-small: var(--fs-small);
  }

  .activity-current {
    --current-fs-card: var(--fs-hero);
  }
}

@media (max-width: 37.5rem) { /* 600px */
  .dashboard-grid {
    grid-template: auto / 1fr;
    padding: var(--mobile-padding-top) var(--spacing-md);
  }

  .profile-name {
    --current-fs-hero: var(--fs-title);
  }

  .activity-cards {
    grid-template: repeat(6, var(--dashboard-card-height-mobile)) / 1fr;
  }

  .activity-content {
    --current-spacing-md: var(--spacing-xs);
  }

  .activity-stats {
    grid-template-columns: repeat(2, max-content);
    justify-content: space-between;
    align-items: center;
  }
}
